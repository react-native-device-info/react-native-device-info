{"ast":null,"code":"import getBoundingClientRect from\"../getBoundingClientRect\";var emptyArray=[];var emptyFunction=function emptyFunction(){};var normalizeTouches=function normalizeTouches(touches){if(!touches){return emptyArray;}return Array.prototype.slice.call(touches).map(function(touch){var identifier=touch.identifier>20?touch.identifier%20:touch.identifier;var rect;return{_normalized:true,clientX:touch.clientX,clientY:touch.clientY,force:touch.force,get locationX(){rect=rect||getBoundingClientRect(touch.target);if(rect){return touch.pageX-rect.left;}},get locationY(){rect=rect||getBoundingClientRect(touch.target);if(rect){return touch.pageY-rect.top;}},identifier:identifier,pageX:touch.pageX,pageY:touch.pageY,radiusX:touch.radiusX,radiusY:touch.radiusY,rotationAngle:touch.rotationAngle,screenX:touch.screenX,screenY:touch.screenY,target:touch.target,timestamp:Date.now()};});};function normalizeTouchEvent(nativeEvent){var changedTouches=normalizeTouches(nativeEvent.changedTouches);var touches=normalizeTouches(nativeEvent.touches);var preventDefault=typeof nativeEvent.preventDefault==='function'?nativeEvent.preventDefault.bind(nativeEvent):emptyFunction;var stopImmediatePropagation=typeof nativeEvent.stopImmediatePropagation==='function'?nativeEvent.stopImmediatePropagation.bind(nativeEvent):emptyFunction;var stopPropagation=typeof nativeEvent.stopPropagation==='function'?nativeEvent.stopPropagation.bind(nativeEvent):emptyFunction;var singleChangedTouch=changedTouches[0];var event={_normalized:true,bubbles:nativeEvent.bubbles,cancelable:nativeEvent.cancelable,changedTouches:changedTouches,defaultPrevented:nativeEvent.defaultPrevented,identifier:singleChangedTouch?singleChangedTouch.identifier:undefined,get locationX(){return singleChangedTouch?singleChangedTouch.locationX:undefined;},get locationY(){return singleChangedTouch?singleChangedTouch.locationY:undefined;},pageX:singleChangedTouch?singleChangedTouch.pageX:nativeEvent.pageX,pageY:singleChangedTouch?singleChangedTouch.pageY:nativeEvent.pageY,preventDefault:preventDefault,stopImmediatePropagation:stopImmediatePropagation,stopPropagation:stopPropagation,target:nativeEvent.target,timestamp:Date.now(),touches:touches,type:nativeEvent.type,which:nativeEvent.which};return event;}function normalizeMouseEvent(nativeEvent){var rect;var touches=[{_normalized:true,clientX:nativeEvent.clientX,clientY:nativeEvent.clientY,force:nativeEvent.force,identifier:0,get locationX(){rect=rect||getBoundingClientRect(nativeEvent.target);if(rect){return nativeEvent.pageX-rect.left;}},get locationY(){rect=rect||getBoundingClientRect(nativeEvent.target);if(rect){return nativeEvent.pageY-rect.top;}},pageX:nativeEvent.pageX,pageY:nativeEvent.pageY,screenX:nativeEvent.screenX,screenY:nativeEvent.screenY,target:nativeEvent.target,timestamp:Date.now()}];var preventDefault=typeof nativeEvent.preventDefault==='function'?nativeEvent.preventDefault.bind(nativeEvent):emptyFunction;var stopImmediatePropagation=typeof nativeEvent.stopImmediatePropagation==='function'?nativeEvent.stopImmediatePropagation.bind(nativeEvent):emptyFunction;var stopPropagation=typeof nativeEvent.stopPropagation==='function'?nativeEvent.stopPropagation.bind(nativeEvent):emptyFunction;return{_normalized:true,bubbles:nativeEvent.bubbles,cancelable:nativeEvent.cancelable,changedTouches:touches,defaultPrevented:nativeEvent.defaultPrevented,identifier:touches[0].identifier,get locationX(){return touches[0].locationX;},get locationY(){return touches[0].locationY;},pageX:nativeEvent.pageX,pageY:nativeEvent.pageY,preventDefault:preventDefault,stopImmediatePropagation:stopImmediatePropagation,stopPropagation:stopPropagation,target:nativeEvent.target,timestamp:touches[0].timestamp,touches:nativeEvent.type==='mouseup'?emptyArray:touches,type:nativeEvent.type,which:nativeEvent.which};}function normalizeNativeEvent(nativeEvent){if(!nativeEvent||nativeEvent._normalized){return nativeEvent;}var eventType=nativeEvent.type||'';var mouse=eventType.indexOf('mouse')>=0;if(mouse){return normalizeMouseEvent(nativeEvent);}else{return normalizeTouchEvent(nativeEvent);}}export default normalizeNativeEvent;","map":{"version":3,"sources":["/Users/robertherber/code/react-native-device-info/example-web/node_modules/react-native-web/dist/modules/normalizeNativeEvent/index.js"],"names":["getBoundingClientRect","emptyArray","emptyFunction","normalizeTouches","touches","Array","prototype","slice","call","map","touch","identifier","rect","_normalized","clientX","clientY","force","locationX","target","pageX","left","locationY","pageY","top","radiusX","radiusY","rotationAngle","screenX","screenY","timestamp","Date","now","normalizeTouchEvent","nativeEvent","changedTouches","preventDefault","bind","stopImmediatePropagation","stopPropagation","singleChangedTouch","event","bubbles","cancelable","defaultPrevented","undefined","type","which","normalizeMouseEvent","normalizeNativeEvent","eventType","mouse","indexOf"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport getBoundingClientRect from '../getBoundingClientRect';\nvar emptyArray = [];\n\nvar emptyFunction = function emptyFunction() {}; // Mobile Safari re-uses touch objects, so we copy the properties we want and normalize the identifier\n\n\nvar normalizeTouches = function normalizeTouches(touches) {\n  if (!touches) {\n    return emptyArray;\n  }\n\n  return Array.prototype.slice.call(touches).map(function (touch) {\n    var identifier = touch.identifier > 20 ? touch.identifier % 20 : touch.identifier;\n    var rect;\n    return {\n      _normalized: true,\n      clientX: touch.clientX,\n      clientY: touch.clientY,\n      force: touch.force,\n\n      get locationX() {\n        rect = rect || getBoundingClientRect(touch.target);\n\n        if (rect) {\n          return touch.pageX - rect.left;\n        }\n      },\n\n      get locationY() {\n        rect = rect || getBoundingClientRect(touch.target);\n\n        if (rect) {\n          return touch.pageY - rect.top;\n        }\n      },\n\n      identifier: identifier,\n      pageX: touch.pageX,\n      pageY: touch.pageY,\n      radiusX: touch.radiusX,\n      radiusY: touch.radiusY,\n      rotationAngle: touch.rotationAngle,\n      screenX: touch.screenX,\n      screenY: touch.screenY,\n      target: touch.target,\n      // normalize the timestamp\n      // https://stackoverflow.com/questions/26177087/ios-8-mobile-safari-wrong-timestamp-on-touch-events\n      timestamp: Date.now()\n    };\n  });\n};\n\nfunction normalizeTouchEvent(nativeEvent) {\n  var changedTouches = normalizeTouches(nativeEvent.changedTouches);\n  var touches = normalizeTouches(nativeEvent.touches);\n  var preventDefault = typeof nativeEvent.preventDefault === 'function' ? nativeEvent.preventDefault.bind(nativeEvent) : emptyFunction;\n  var stopImmediatePropagation = typeof nativeEvent.stopImmediatePropagation === 'function' ? nativeEvent.stopImmediatePropagation.bind(nativeEvent) : emptyFunction;\n  var stopPropagation = typeof nativeEvent.stopPropagation === 'function' ? nativeEvent.stopPropagation.bind(nativeEvent) : emptyFunction;\n  var singleChangedTouch = changedTouches[0];\n  var event = {\n    _normalized: true,\n    bubbles: nativeEvent.bubbles,\n    cancelable: nativeEvent.cancelable,\n    changedTouches: changedTouches,\n    defaultPrevented: nativeEvent.defaultPrevented,\n    identifier: singleChangedTouch ? singleChangedTouch.identifier : undefined,\n\n    get locationX() {\n      return singleChangedTouch ? singleChangedTouch.locationX : undefined;\n    },\n\n    get locationY() {\n      return singleChangedTouch ? singleChangedTouch.locationY : undefined;\n    },\n\n    pageX: singleChangedTouch ? singleChangedTouch.pageX : nativeEvent.pageX,\n    pageY: singleChangedTouch ? singleChangedTouch.pageY : nativeEvent.pageY,\n    preventDefault: preventDefault,\n    stopImmediatePropagation: stopImmediatePropagation,\n    stopPropagation: stopPropagation,\n    target: nativeEvent.target,\n    // normalize the timestamp\n    // https://stackoverflow.com/questions/26177087/ios-8-mobile-safari-wrong-timestamp-on-touch-events\n    timestamp: Date.now(),\n    touches: touches,\n    type: nativeEvent.type,\n    which: nativeEvent.which\n  };\n  return event;\n}\n\nfunction normalizeMouseEvent(nativeEvent) {\n  var rect;\n  var touches = [{\n    _normalized: true,\n    clientX: nativeEvent.clientX,\n    clientY: nativeEvent.clientY,\n    force: nativeEvent.force,\n    identifier: 0,\n\n    get locationX() {\n      rect = rect || getBoundingClientRect(nativeEvent.target);\n\n      if (rect) {\n        return nativeEvent.pageX - rect.left;\n      }\n    },\n\n    get locationY() {\n      rect = rect || getBoundingClientRect(nativeEvent.target);\n\n      if (rect) {\n        return nativeEvent.pageY - rect.top;\n      }\n    },\n\n    pageX: nativeEvent.pageX,\n    pageY: nativeEvent.pageY,\n    screenX: nativeEvent.screenX,\n    screenY: nativeEvent.screenY,\n    target: nativeEvent.target,\n    timestamp: Date.now()\n  }];\n  var preventDefault = typeof nativeEvent.preventDefault === 'function' ? nativeEvent.preventDefault.bind(nativeEvent) : emptyFunction;\n  var stopImmediatePropagation = typeof nativeEvent.stopImmediatePropagation === 'function' ? nativeEvent.stopImmediatePropagation.bind(nativeEvent) : emptyFunction;\n  var stopPropagation = typeof nativeEvent.stopPropagation === 'function' ? nativeEvent.stopPropagation.bind(nativeEvent) : emptyFunction;\n  return {\n    _normalized: true,\n    bubbles: nativeEvent.bubbles,\n    cancelable: nativeEvent.cancelable,\n    changedTouches: touches,\n    defaultPrevented: nativeEvent.defaultPrevented,\n    identifier: touches[0].identifier,\n\n    get locationX() {\n      return touches[0].locationX;\n    },\n\n    get locationY() {\n      return touches[0].locationY;\n    },\n\n    pageX: nativeEvent.pageX,\n    pageY: nativeEvent.pageY,\n    preventDefault: preventDefault,\n    stopImmediatePropagation: stopImmediatePropagation,\n    stopPropagation: stopPropagation,\n    target: nativeEvent.target,\n    timestamp: touches[0].timestamp,\n    touches: nativeEvent.type === 'mouseup' ? emptyArray : touches,\n    type: nativeEvent.type,\n    which: nativeEvent.which\n  };\n} // TODO: how to best handle keyboard events?\n\n\nfunction normalizeNativeEvent(nativeEvent) {\n  if (!nativeEvent || nativeEvent._normalized) {\n    return nativeEvent;\n  }\n\n  var eventType = nativeEvent.type || '';\n  var mouse = eventType.indexOf('mouse') >= 0;\n\n  if (mouse) {\n    return normalizeMouseEvent(nativeEvent);\n  } else {\n    return normalizeTouchEvent(nativeEvent);\n  }\n}\n\nexport default normalizeNativeEvent;"]},"metadata":{},"sourceType":"module"}